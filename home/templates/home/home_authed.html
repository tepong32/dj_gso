{% load static %}
{% load model_fields %} <!-- custom filter from templatetags folder -->

<div class="row" >
	<div class="container overflow-auto col-12 mb-2" style="min-height: 400px; max-height:400px;margin-bottom: 5px; padding: 0;">
		<div class="col-12">
			<div class="card card-primary card-tabs">
			  <div class="card-header p-0 pt-1">
			    <ul class="nav nav-tabs" id="custom-tabs-tab" role="tablist">
			      <li class="nav-item">
			        <a class="nav-link active" id="custom-tabs-announcements-tab" data-toggle="pill" href="#custom-tabs-announcements" role="tab" aria-controls="custom-tabs-announcements" aria-selected="false">Announcements:</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" id="custom-tabs-blogs-tab" data-toggle="pill" href="#custom-tabs-blogs" role="tab" aria-controls="custom-tabs-blogs" aria-selected="false">Latests</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" id="custom-tabs-members-tab" data-toggle="pill" href="#custom-tabs-members" role="tab" aria-controls="custom-tabs-members" aria-selected="false">Newest Members:</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" id="custom-tabs-etc-tab" data-toggle="pill" href="#custom-tabs-etc" role="tab" aria-controls="custom-tabs-etc" aria-selected="true">Free Stuffs! <small>(preview)</small></a>
			      </li>
			    </ul>
			  </div>
			  <div class="card-body">
			    <div class="tab-content" id="custom-tabs-tabContent">
			    	
			      <!-- Announcements -->
			      <div class="tab-pane fade active show" id="custom-tabs-announcements" role="tabpanel" aria-labelledby="custom-tabs-announcements-tab">
			        {% for a in announcements %}
			            <div class="announcementBox overflow-auto">
			                <h4 class="quoteText text-danger">
			                	{{ a.title }}
			                </h4> 
			                <i><small>{{a.date_posted}}</small></i>
			                {{ a.content|safe }} <br/>
			                by <b>{{a.author}}</b> <br/>
			            </div>
			        {% endfor %}
			      </div>


			      <!-- Blog Posts -->
			      <div class="tab-pane fade" id="custom-tabs-blogs" role="tabpanel" aria-labelledby="custom-tabs-blogs-tab">
						<div class="row">
							{% for post in posts %}
								<div class="col-10">
									<a href="{% url 'post-detail' post.slug %}">
										<strong><i>{{post.title|truncatechars:50}}</i></strong>
									</a>
								</div>
								<div class="col">
									<small>{{post.author}}</small>
								</div>
							{% endfor %} <br>
							<small>Total Post count: ({{postcount}})</small>
						</div>
			      </div>

			      <!-- Newest members area -->
			      <div class="tab-pane fade" id="custom-tabs-members" role="tabpanel" aria-labelledby="custom-tabs-members-tab">
					<div class="card-body text-center">
						<h6 class="quoteText text-danger">Say hello to our newest members!</h6>
						<small>
							Nag-register sila para mag-share! YES! | 
							<i>Users count: {{ usercount }}</i><br>
						</small>
						{% for u in users %}
						<div class="row">
							<div class="col-4">
								<a href="{% url 'profile' user.username %}" title="check {{user.username}}'s profile">{{user.username}}</a>
							</div>
							<div class="col">
								<small class="text text-muted" style="font-size: 10px">registered: {{ u.date_joined|date:"F d, Y" }}</i></small>
								<br>
							</div>
						</div>
						{% endfor %}
					</div>
			      </div>

			      <!-- Free -->
			      <div class="tab-pane fade" id="custom-tabs-etc" role="tabpanel" aria-labelledby="custom-tabs-etc-tab">
			      	<a href="#" title="Check-out these awesome stuffs!">
			      		<h6 class="quoteText text-primary">Check-out these awesome stuffs! All for free!</h6>
				        {% for item in free %}
							<div class="col-10">
								<strong><i>{{item.title|truncatechars:50}}</i></strong>
							</div>
						{% endfor %}
					</a>
			      </div>
			    </div>
			  </div>
			  <!-- /.card -->
			</div>
		</div>
	</div>


<!-- Table from adminlte3 -->


<div class="row"><div class="col-sm-12 col-md-6"><div class="dt-buttons btn-group flex-wrap">               <button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="example1" type="button"><span>Copy</span></button> <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="example1" type="button"><span>CSV</span></button> <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="example1" type="button"><span>Excel</span></button> <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="example1" type="button"><span>PDF</span></button> <button class="btn btn-secondary buttons-print" tabindex="0" aria-controls="example1" type="button"><span>Print</span></button> <div class="btn-group"><button class="btn btn-secondary buttons-collection dropdown-toggle buttons-colvis" tabindex="0" aria-controls="example1" type="button" aria-haspopup="true" aria-expanded="false"><span>Column visibility</span><span class="dt-down-arrow"></span></button></div> </div></div><div class="col-sm-12 col-md-6"><div id="example1_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="example1"></label></div></div></div>


{% comment %}
<div class="table-responsive">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <!-- Generate table headers -->
                {% for field in users.0|model_fields %}
                    <th>{{ field.verbose_name }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <!-- Generate table rows -->
            {% for user in users %}
                <tr>
                    {% for field in user|model_fields %}
                        <td>{{ user|get_attr:field.name }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endcomment %}


items

<div class="table-responsive">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <!-- Generate table headers -->
                {% for field in items.0|model_fields %}
                    <th class="text-center">{{ field.verbose_name }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <!-- Generate table rows -->
            {% for item in items %}
                <tr>
                    {% for field in item|model_fields %}
                        <td>
                        	<!-- adding conditional stringformat for obrNum field // 6 digits with leading zeros-->
                            {% if field.name == "OBR #" %}
                                {{ item|get_attr:field.name|stringformat:"06" }}
                            {% else %}
                                {{ item|get_attr:field.name }}
                            {% endif %}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="pagination">
	    {% if items.has_previous %}
	        <a href="?page={{ items.previous_page_number }}">previous</a>
	    {% endif %}
	    <span class="current-page">{{ items.number }}</span>
	    {% if items.has_next %}
	        <a href="?page={{ items.next_page_number }}">next</a>
	    {% endif %}
	</div>
</div>



</div>
